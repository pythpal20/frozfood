<div class="footer">
    <div class="pull-right">
        <strong>Copyright</strong> <a href="https://github.com/pythpal20">Pythpal20</a> - <?= date('Y') ?>
    </div>
</div>

</div>
</div>
<div class="modal inmodal" id="insert" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content animated bounceInRight">
            <div class="modal-body">
                <label>Saving Data. . .<small>Please wait until the process is complete</small></label>
                <div class="progress">
                    <div class="progress-bar progress-bar-striped progress-bar-animated progress-bar-info" style="width: 100%" role="progressbar" aria-valuenow="100%" aria-valuemin="0" aria-valuemax="100">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Mainly scripts -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="<?= base_url('assets') ?>/js/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="<?= base_url('assets') ?>/js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="<?= base_url('assets') ?>/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

<!-- Custom and plugin javascript -->
<script src="<?= base_url('assets') ?>/js/inspinia.js"></script>
<script src="<?= base_url('assets') ?>/js/plugins/pace/pace.min.js"></script>

<script src="<?= base_url('assets/'); ?>js/plugins/jquery-ui/jquery-ui.min.js"></script>
<script src="<?= base_url('assets/'); ?>js/plugins/touchpunch/jquery.ui.touch-punch.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0/dist/chartjs-plugin-datalabels.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<!-- <script src="<?= base_url('node_modules') ?>/sweetalert2/src/sweetalert2.js"></script> -->

<script src="<?= base_url('assets/'); ?>js/plugins/daterangepicker/daterangepicker.js"></script>
<script src="<?= base_url('assets/'); ?>js/plugins/clockpicker/clockpicker.js"></script>
<script src="<?= base_url('assets/'); ?>js/plugins/fullcalendar/moment.min.js"></script>
<script src="<?= base_url('assets/'); ?>js/plugins/datapicker/bootstrap-datepicker.js"></script>

<script src="<?= base_url('node_modules/'); ?>crypto-js/crypto-js.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js" integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/aes.min.js" integrity="sha512-4b1zfeOuJCy8B/suCMGNcEkMcQkQ+/jQ6HlJIaYVGvg2ZydPvdp7GY0CuRVbNpSxNVFqwTAmls2ftKSkDI9vtA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/enc-base64.min.js" integrity="sha512-IKpu1GFk/bQ+2fOc4sXuA6lm7Rct4P7611iDBxY9LReOZ2PpwoDWWqj6GSYejUce1FLxo/d4lxAnKqGWJuBw7g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.js" integrity="sha512-NQVmLzNy4Lr5QTrmXvq/WzTMUnRHmv7nyIT/M6LyGPBS+TIeRxZ+YQaqWxjpRpvRMQSuYPQURZz/+pLi81xXeA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/tableExport.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/libs/jsPDF/jspdf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/libs/jsPDF-AutoTable/jspdf.plugin.autotable.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/mobile/bootstrap-table-mobile.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/fixed-columns/bootstrap-table-fixed-columns.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/export/bootstrap-table-export.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.21.0/dist/extensions/print/bootstrap-table-print.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.21.0/dist/extensions/toolbar/bootstrap-table-toolbar.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/auto-refresh/bootstrap-table-auto-refresh.min.js"></script>

<script src="<?= base_url() ?>/assets/js/plugins/chartJs/Chart.min.js"></script>

<script src="<?= base_url() ?>/assets/js/plugins/summernote/summernote-bs4.js"></script>

<script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
<script src="<?= base_url('assets/') ?>js/plugins/sparkline/jquery.sparkline.min.js"></script>

<script src="<?= base_url('assets/'); ?>js/plugins/peity/jquery.peity.min.js"></script>
<!-- <script src="<?= base_url() ?>/assets/js/demo/peity-demo.js"></script> -->
<script src="<?= base_url('assets/') ?>js/plugins/chosen/chosen.jquery.js"></script>
<script src="<?= base_url() ?>/assets/js/jquery.peity.js"></script>
<script src="<?= base_url() ?>/assets/js/jquery.peity.min.js"></script>

<script src="<?= base_url('assets/'); ?>js/plugins/typehead/bootstrap3-typeahead.min.js"></script>

<script src="<?= base_url('node_modules') ?>/axios/dist/axios.min.js"></script>
<script async src="<?= base_url('assets') ?>/js/swalalertmain.js"></script>
<script src="<?= base_url('assets/') ?>js/plugins/nestable/jquery.nestable.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<?php
if (isset($additionalJs)) {
    echo '<script src="' . base_url($additionalJs) . '"></script>';
}
?>

<script>
    $(document).ready(function() {
        $(".logout").click(() => {
            swal.fire({
                title: 'Yakin Log out ?',
                text: 'Klik Ok untuk keluar',
                icon: 'question',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
            }).then((gasstross) => {
                if (gasstross.isConfirmed) {
                    // kelogout
                    window.location.href = "<?= base_url('auth/logout') ?>";
                }
            })
        });

        $(".ubahPassword").click(function() {
            const id = $(this).data('id');
            const Url = "<?= base_url('auth/changepassword') ?>";
            Swal.fire({
                title: 'Ubah password',
                text: 'Silahkan input password baru anda',
                icon: 'warning',
                input: 'password',
                inputAttributes: {
                    autocapitalize: "off"
                },
                showCancelButton: true,
                confirmButtonText: "Ubah",
                showLoaderOnConfirm: true,
                preConfirm: async (ubah) => {
                    try {
                        const url = Url; // Ganti URL_ANDA dengan URL yang sesuai
                        const response = await fetch(url, {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json", // Ubah header Content-Type
                            },
                            body: JSON.stringify({
                                id: id,
                                karyawan: ubah
                            }) // Ubah payload menjadi JSON string
                        });
                        if (!response.ok) {
                            throw new Error("HTTP error! status: " + response.status);
                        }
                        const resultText = await response.json();
                        if (resultText.status === 'error') {
                            swalalertError(resultText.message);
                        } else if (resultText.status === 'success') {
                            swalalertSuccess(resultText.message);
                        }
                    } catch (error) {
                        Swal.fire({
                            title: 'Error',
                            text: error,
                            icon: 'error'
                        })
                        // console.error("ERROR : ", error);
                    }
                }
            });

            document.querySelector(".swal2-input").placeholder = "Type new password";
        });

        var mem = $('#data_1 .input-group.date').datepicker({
            todayBtn: "linked",
            keyboardNavigation: false,
            forceParse: false,
            calendarWeeks: true,
            autoclose: true
        });
        var mem2 = $('#data_2 .input-group.date').datepicker({
            todayBtn: "linked",
            keyboardNavigation: false,
            forceParse: false,
            calendarWeeks: true,
            autoclose: true
        });
        var mem3 = $('#data_3 .input-group.date').datepicker({
            todayBtn: "linked",
            keyboardNavigation: false,
            forceParse: false,
            calendarWeeks: true,
            autoclose: true
        });
        var mem4 = $('#data_4 .input-group.date').datepicker({
            todayBtn: "linked",
            keyboardNavigation: false,
            forceParse: false,
            calendarWeeks: true,
            autoclose: true
        });
    });
</script>
</body>

</html>